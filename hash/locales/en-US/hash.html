<script type="text/html" data-help-name="hash">
    <p>Hashes a certificate using S1Seven's servers.</p>

    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>
            payload
            <span class="property-type">string | buffer | object</span>
        </dt>
        <dd>the certificate to hash.</dd>
        <dt class="message-properties">accessToken <span class="property-type">string</span></dt>
        <dd>the access token to use to authenticate the request.</dd>
        <dt class="optional">environment <span class="property-type">staging | development</span></dt>
        <dd>choose the environment that you want to use - app.s1seven.ovh or app.s1seven.dev. Defaults to staging</dd>
        <dt class="optional">
            algorithm <span class="property-type">sha256 | sha512 | sha3-256 | sha3-384 | sha3-512</span>
        </dt>
        <dd>choose the hashing algorithm. Defaults to <code>sha256</code></dd>
        <dt class="optional">encoding <span class="property-type">base64 | hex</span></dt>
        <dd>choose the encoding. Defaults to <code>hex</code></dd>
    </dl>

    <h3>Outputs</h3>
    <ol class="node-ports">
        <li>
            Standard output
            <dl class="message-properties">
                <dt>payload <span class="property-type">object</span></dt>
                <dd>the response from the HTTP request.</dd>
            </dl>
        </li>
    </ol>

    <h3>Details</h3>
    <p>
        <code>msg.payload</code> is used as the payload of the POST request. It should contain the certificate to be
        hashed. If it contains an buffer or JSON string it will be converted to an object before being sent.
    </p>
    <p>
        The certificate can also be read from the global property "certificate". If <code>msg.payload</code> is present,
        it will have priority over <code>global.certificate</code>.
    </p>
    <p>
        <code>msg.algorithm</code> is optional and is used to specify the hashing algorithm. If not specified, it
        defaults to <code>sha256</code>.
    </p>
    <p>
        <code>msg.encoding</code> is optional and is used to specify the encoding type. If not specified, it defaults to
        <code>hex</code>.
    </p>
    <p>
        The following properties can be added via the admin ui, found by double-clicking on the hash node, or by passing
        them in using the <code>msg</code> object. If they are passed in via the <code>msg</code> object, they will have
        priority over the values found in the admin ui. This allows the values to be overridden dynamically if
        necessary. For example, if both <code>msg.accessToken</code> and an access token added via the admin ui are
        present, <code>msg.accessToken</code> will be used instead of the admin ui access token.
    </p>
    <p>
        <code>accessToken</code> is used to authenticate the HTTP request. To find out to generate an access token, look
        at the documentation at <a>https://manual.s1seven.com</a> under the developers section.
    </p>

    <p>It can also be passed in using the api-config node, found by double-clicking on the hash node.</p>
    <p>
        <code>msg.environment</code> allows you to pass in the string value <code>staging</code> or
        <code>development</code> to choose which server you wish to use.
    </p>
    <p>This can also be set via the config node.</p>
</script>
